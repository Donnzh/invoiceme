(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,a){e.exports=a(485)},485:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),l=a.n(i),o=a(200),c=a(35),u=a(19),m=a(178),s=a.n(m),g=a(179),d=a(72),p=a.n(d);function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch("https://invoices-api-v1.herokuapp.com/invoices/"+t,Object(g.a)({method:e},a,{headers:{"Content-Type":"application/json"}})).then(f).catch(function(e){return console.error("Error:",e)})}function f(e){if(!e.ok)throw Error(e.statusText);return e}var b=a(28),E=a(20),v=a(73),w=a.n(v),y=a(21),C=a.n(y),O=a(55),k=a.n(O),x=a(27),j=a(180),S=a.n(j),D=a(44),N=a.n(D),I=a(183),P=a.n(I),T=a(182),R=a.n(T);var L=Object(E.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},grow:{flexGrow:1},title:Object(b.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(b.a)({position:"relative",marginRight:2*e.spacing.unit,borderRadius:e.shape.borderRadius,backgroundColor:Object(x.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(x.fade)(e.palette.common.white,.25)},width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:7*e.spacing.unit,height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(b.a)({paddingLeft:7*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:162,"&:focus":{width:210}}),rightIcon:{marginLeft:e.spacing.unit},buttonText:{lineHeight:"initial"}}})(function(e){var t=e.classes,a=e.onSearch,n=e.onButtonClick;return r.a.createElement(S.a,{position:"static"},r.a.createElement(w.a,null,r.a.createElement(C.a,{className:t.title,variant:"h6",color:"inherit",noWrap:!0},"Invoices List"),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(R.a,null)),r.a.createElement(k.a,{onChange:function(e){a(e.target.value)},placeholder:"Search comments\u2026",classes:{root:t.inputRoot,input:t.inputInput}})),r.a.createElement("div",null,r.a.createElement(N.a,{onClick:n,variant:"contained",size:"medium",color:"primary",className:t.button},r.a.createElement(C.a,{variant:"subtitle1",color:"inherit",noWrap:!0,className:t.buttonText},"New"),r.a.createElement(P.a,{className:t.rightIcon})))))}),W=a(186),Y=a.n(W),z=a(187),B=a.n(z),H=a(184),M=a.n(H),F=a(56),q=a.n(F),V=a(185),A=a.n(V),G=a(101),J=a.n(G);var $=Object(E.withStyles)(function(e){return{success:{backgroundColor:M.a[500]},message:{display:"flex",alignItems:"center"},icon:{marginRight:6}}})(function(e){var t=e.classes,a=e.notifyInfo,i=!!a,l=Object(n.useState)(i),o=Object(u.a)(l,2),c=o[0],m=o[1];Object(n.useEffect)(function(){m(i)},[a]);var s=function(){return m(!1)};return r.a.createElement(A.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:c,autoHideDuration:1500,onClose:s},r.a.createElement(J.a,{className:t.success,"aria-describedby":"action notification",message:r.a.createElement("span",{className:t.message},r.a.createElement(Y.a,{className:t.icon}),a),action:r.a.createElement(q.a,{"aria-label":"Close",color:"inherit",onClick:s},r.a.createElement(B.a,null))}))}),X=a(192),U=a.n(X),_=a(194),K=a.n(_),Q=a(26),Z=a.n(Q),ee=a(193),te=a.n(ee),ae=a(74),ne=a.n(ae),re=a(189),ie=a.n(re),le=a(43),oe=a.n(le),ce=a(191),ue=a.n(ce),me=a(190),se=a.n(me),ge=a(103),de=a.n(ge),pe=a(75),he=a(102),fe=a.n(he),be=a(57),Ee=a.n(be),ve=function(e,t){if(e<=7)return Ee()(1,e+1);var a=t>4?t-1:2,n=t<e-3?t+1:e-1,r=a>2,i=n<e-1;return r&&i?[1,"previous"].concat(Object(pe.a)(Ee()(a,n+1)),["next",e]):r&&!i?[1,"previous"].concat(Object(pe.a)(Ee()(n-3,n+1)),[e]):!r&&i?[1].concat(Object(pe.a)(Ee()(a,6)),["next",e]):void 0};var we=Object(E.withStyles)(function(e){return{selectInput:Object(b.a)({},e.breakpoints.down("xs"),{display:"none"}),pagination:{display:"inline"},inputLabel:{fontSize:"14px",marginRight:"10px"},activePageItem:{backgroundColor:e.palette.primary.main,color:"white",border:"none",fontSize:"16px",margin:4},pageItem:{display:"inline",border:"none",fontSize:"16px",backgroundColor:"transparent",margin:4,"&:hover":{backgroundColor:e.palette.primary.light,cursor:"pointer"}},grow:{flexGrow:1}}})(function(e){var t=e.classes,a=e.currentPage,n=Math.ceil(e.totalRecords/e.rowPerPage),i=ve(n,a);return r.a.createElement(w.a,{"aria-label":"Pagination",className:t.root},r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.selectInput},r.a.createElement(fe.a,{className:t.inputLabel,htmlFor:"age-simple"},"Invoices per page"),r.a.createElement("select",{onChange:function(t){e.onRowPerPageChanged(t.target.value)}},r.a.createElement("option",{value:5},"5"),r.a.createElement("option",{value:10},"10"),r.a.createElement("option",{value:25},"25"))),r.a.createElement("ul",{className:t.pagination},i.map(function(n,i){return"previous"===n?r.a.createElement("button",{onClick:function(){return e.onPageChanged(a-3)},key:i,className:a===n?t.activePageItem:t.pageItem},"\xab",r.a.createElement(C.a,{variant:"srOnly"},"Previous Page")):"next"===n?r.a.createElement("button",{key:i,className:a===n?t.activePageItem:t.pageItem,onClick:function(){return e.onPageChanged(a+3)}},"\xbb",r.a.createElement(C.a,{variant:"srOnly"},"Next Page")):r.a.createElement("button",{key:i,onClick:function(){return e.onPageChanged(n)},className:a===n?t.activePageItem:t.pageItem},n)})))}),ye=a(188),Ce=Object(E.withStyles)(function(e){return{root:{marginTop:11*e.spacing.unit}}})(function(e){return r.a.createElement("div",{className:e.classes.root},r.a.createElement(ye.a,{height:180,width:400,speed:118,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"350",height:"15"}),r.a.createElement("rect",{x:"25",y:"35",rx:"5",ry:"5",width:"350",height:"15"}),r.a.createElement("rect",{x:"25",y:"55",rx:"5",ry:"5",width:"350",height:"15"}),r.a.createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"350",height:"15"}),r.a.createElement("rect",{x:"25",y:"95",rx:"5",ry:"5",width:"350",height:"15"})))}),Oe=function(e){return{paper:{width:"100%",overflowX:"auto"},root:{width:"100%",marginTop:10*e.spacing.unit,overflowX:"auto",height:"380px"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default},"&:focus":{backgroundColor:e.palette.grey[300]}},placeholderRow:{height:"100%"},button:{width:40,height:40,margin:"5px 5px 0 5px"}}},ke=[{value:"id",label:"Id",align:"inherit",isSortable:!1},{value:"name",label:"Name",align:"left",isSortable:!0},{value:"invoiceDate",label:"Date",align:"left",isSortable:!0},{value:"comment",label:"Comments",align:"right",isSortable:!1},{value:"amount",label:"Amounts",align:"right",isSortable:!0},{value:"action",label:"Actions",align:"right",isSortable:!1}];var xe=Object(E.withStyles)(Oe)(function(e){var t=e.classes,a=e.tableData,i=e.onEditClick,l=e.onDeleteClick;if(!a)return r.a.createElement(Ce,null);var o=Object(n.useState)(5),c=Object(u.a)(o,2),m=c[0],s=c[1],g=Object(n.useState)(1),d=Object(u.a)(g,2),p=d[0],h=d[1],f=Object(n.useState)(""),b=Object(u.a)(f,2),E=b[0],v=b[1],w=Object(n.useState)("asc"),y=Object(u.a)(w,2),C=y[0],O=y[1],k=function(e){a.sort(function(t,a){return t.hasOwnProperty(e)&&a.hasOwnProperty(e)?("invoiceDate"===e&&(n=new Date(t[e]).getTime()-new Date(a[e]).getTime()),n="amount"===e?Number(t[e])>Number(a[e])?1:-1:t[e]>a[e]?1:-1,"desc"===C?n:-1*n):0;var n})},x=a.slice(p*m-m,p*m);return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{className:t.paper},r.a.createElement(U.a,{className:t.root},r.a.createElement(te.a,null,r.a.createElement(ne.a,null,ke.map(function(e,t){return e.isSortable?r.a.createElement(Z.a,{key:t,align:e.align},r.a.createElement(ie.a,{active:E===e.value,direction:C,onClick:function(){return function(e){k(e);var t="desc";E===e&&"desc"===C&&(t="asc"),v(e),O(t)}(e.value)}},e.label)):r.a.createElement(Z.a,{key:t,align:e.align},e.label)}))),r.a.createElement(K.a,null,x.map(function(e,a){return r.a.createElement(ne.a,{tabIndex:0,className:t.row,key:a},r.a.createElement(Z.a,{component:"th",scope:"data"},e.id),r.a.createElement(Z.a,{align:"left"},e.name),r.a.createElement(Z.a,{align:"left"},e.invoiceDate),r.a.createElement(Z.a,{align:"right"},e.comment),r.a.createElement(Z.a,{align:"right"},"$ "+e.amount),r.a.createElement(Z.a,{align:"right"},function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{placement:"top",title:"Edit"},r.a.createElement(q.a,{onClick:function(){return i(e)},"aria-label":"Edit Icon",className:Oe.button},r.a.createElement(se.a,{fontSize:"small"},"edit_icon"))),r.a.createElement(de.a,{placement:"top",title:"Delete"},r.a.createElement(q.a,{onClick:function(){return l(e)("delete")},"aria-label":"Delete",className:Oe.button},r.a.createElement(ue.a,{fontSize:"small"}))))}(e)))}),x.length<m&&r.a.createElement(ne.a,{className:t.placeholderRow})))),r.a.createElement(we,{totalRecords:a.length,rowPerPage:m,onPageChanged:function(e){h(e)},onRowPerPageChanged:function(e){s(e),h(1)},currentPage:p}))}),je=a(197),Se=a.n(je),De=a(196),Ne=a.n(De),Ie=a(198),Pe=a.n(Ie),Te=a(199),Re=a.n(Te),Le=a(195),We=a.n(Le),Ye=a(58),ze=a.n(Ye),Be=a(29),He=a.n(Be);var Me=Re()({breakpoint:"xs"})(function(e){var t=e.dialogData,a=e.closeHandler,n=e.fullScreen,i=e.isOpen,l=e.submitHandler,o=t||{};o.invoiceDate=p.a.format(o.invoiceDate?o.invoiceDate:new Date,"YYYY-MM-DD");var c,u=function(e){e.preventDefault(),l(o)(o.id?"edit":"new")},m=function(e){return function(t){"name"===e&&(t.target.value=t.target.value.replace(/\d+/g,"")),"amount"===e&&(t.target.value=t.target.value.replace(/[^0-9.]/g,"")),o[e]=t.target.value}};return r.a.createElement(Se.a,{fullWidth:!0,fullScreen:n,open:i,maxWidth:"sm"},r.a.createElement(Pe.a,null,(c=o,r.a.createElement("form",{autoComplete:"off",onSubmit:u},r.a.createElement(C.a,{variant:"h6",gutterBottom:!0},c.name?"Edit Invoice":"New Invoice"),r.a.createElement(C.a,{variant:"subtitle2",gutterBottom:!0},"ID: ",c.id),r.a.createElement(He.a,{container:!0,spacing:32},r.a.createElement(He.a,{item:!0,xs:12,sm:6},r.a.createElement(ze.a,{autoFocus:!0,required:!0,name:"Name",label:"Name",margin:"normal",defaultValue:c.name,fullWidth:!0,onChange:m("name")})),r.a.createElement(He.a,{item:!0,xs:12,sm:6},r.a.createElement(ze.a,{required:!0,fullWidth:!0,name:"Date",label:"Date",type:"date",defaultValue:c.invoiceDate,margin:"normal",onChange:m("invoiceDate"),InputLabelProps:{shrink:!0}}))),r.a.createElement(He.a,{container:!0,spacing:32},r.a.createElement(He.a,{item:!0,xs:12,sm:6},r.a.createElement(ze.a,{required:!0,label:"Comments",fullWidth:!0,defaultValue:c.comment,margin:"normal",onChange:m("comment"),multiline:!0,rows:1,rowsMax:4}))),r.a.createElement(He.a,{container:!0,spacing:32},r.a.createElement(He.a,{item:!0,xs:12,sm:6},r.a.createElement(ze.a,{required:!0,type:"text",margin:"dense",variant:"outlined",label:"Amount",helperText:"e.g.: 500.80",onChange:m("amount"),defaultValue:c.amount,inputProps:{startadornment:r.a.createElement(We.a,{position:"start"},"$"),pattern:"[1-9][0-9]*[.][0-9][0-9]"}}))),r.a.createElement(Ne.a,null,r.a.createElement(N.a,{type:"submit",color:"primary"},"Save"),r.a.createElement(N.a,{color:"primary",onClick:a},"Cancel"))))))});var Fe=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)(null),o=Object(u.a)(l,2),c=o[0],m=o[1],g=Object(n.useState)(!1),d=Object(u.a)(g,2),f=d[0],b=d[1],E=Object(n.useState)(null),v=Object(u.a)(E,2),w=v[0],y=v[1],C=Object(n.useState)(null),O=Object(u.a)(C,2),k=O[0],x=O[1];Object(n.useEffect)(function(){j()},[]);var j=function(){h().then(function(e){return e.json()}).then(function(e){return e.map(function(e){return e.invoiceDate=p.a.format(new Date(e.invoiceDate),"YYYY-MM-DD"),e})}).then(function(e){i(e),m(e)})},S=s()(function(e){if(e){var t=a.filter(function(t){return t.comment.toLowerCase().includes(e)});m(t)}else m(a)},200),D=function(e){return function(t){var a,n;switch(t){case"delete":a="DELETE",n="Invoice deleted";break;case"new":a="POST",n="Invoice added";break;case"edit":a="PUT",n="Invoice updated"}var r="DELETE"===a?{}:{body:JSON.stringify(e)};h(a,e.id,r).then(function(){j(),x(n),b(!1)})}};return r.a.createElement(n.Fragment,null,r.a.createElement($,{notifyInfo:k}),r.a.createElement(Me,{isOpen:f,closeHandler:function(){return b(!1)},dialogData:w,submitHandler:D}),r.a.createElement(L,{onButtonClick:function(){y(null),b(!0)},onSearch:S}),r.a.createElement(xe,{tableData:c,onEditClick:function(e){y(e),b(!0)},onDeleteClick:D}))};var qe=function(){return r.a.createElement(o.a,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"",render:function(){return r.a.createElement(Fe,null)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[202,1,2]]]);
//# sourceMappingURL=main.261d5c4c.chunk.js.map